#!/bin/bash
# Switch to light mode

# Get the directory where this script is located (plugins/)
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
HAMR_DIR="$(dirname "$SCRIPT_DIR")"

# Check for theming scripts in order of preference
SWITCHWALL_PATHS=(
    "$HAMR_DIR/scripts/colors/switchwall.sh"                                         # bundled with hamr
    "${XDG_CONFIG_HOME:-$HOME/.config}/hamr/scripts/switchwall.sh"                   # user override
)

for script in "${SWITCHWALL_PATHS[@]}"; do
    if [[ -x "$script" ]]; then
        "$script" --mode light --noswitch
        exit 0
    fi
done

# Fallback to gsettings
if command -v gsettings &>/dev/null; then
    gsettings set org.gnome.desktop.interface color-scheme prefer-light
    notify-send "Light mode" "Set via gsettings"
else
    notify-send "Light mode" "No theme script found"
fi
